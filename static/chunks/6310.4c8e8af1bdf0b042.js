"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6310],{46310:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var r=n(95155),a=n(41574),s=n(70539),i=n(41942),o=n(74193),l=n(24627),d=n(80317),c=n(32081),x=n(27855),f=n(15239),g=n(14873),h=n(93366);function u(){let{data:e,fetchNextPage:t,hasNextPage:n,isFetchingNextPage:u}=(0,h.p$)(),p=(null==e?void 0:e.pages.flatMap(e=>e.data))||[],m=e=>{if(!e)return"/images/fallback-thumbnail.jpg";try{return new URL(e),e}catch(t){return e.startsWith("/")?e:"/".concat(e)}},b=e=>{var t;return(null==e||null==(t=e.name)?void 0:t.toUpperCase())||"UNCATEGORIZED"};return(0,r.jsxs)(a.default,{sx:{mt:{xs:3,sm:4,md:6},pb:{xs:4,sm:6}},children:[(0,r.jsx)(a.default,{sx:{display:{xs:"none",md:"block"}},children:(0,r.jsx)(g.A,{gradient:!1,speed:35,pauseOnHover:!0,children:[void 0,void 0].map((e,t)=>p.map((e,n)=>(0,r.jsxs)(s.A,{sx:{width:{md:480,lg:560},height:{md:380,lg:420},borderRadius:4,my:1,mx:2,overflow:"hidden",bgcolor:"#1a0c45",border:"1px solid rgba(255,255,255,0.05)",transition:"all 0.3s ease","&:hover":{transform:"translateY(-4px)",boxShadow:"0 6px 24px rgba(0,0,0,0.4)"}},children:[(0,r.jsxs)(a.default,{sx:{position:"relative",height:{md:200,lg:220},overflow:"hidden"},children:[(0,r.jsx)(f.default,{src:m(e.thumbnail),alt:e.title||"News",fill:!0,sizes:"(max-width: 600px) 100vw, (max-width: 1200px) 50vw, 450px",style:{objectFit:"cover"}}),(0,r.jsx)(i.A,{direction:"row",spacing:1,sx:{position:"absolute",top:12,left:12},children:(0,r.jsx)(o.A,{label:b(e.category),sx:{bgcolor:"#6366f1",color:"#fff",fontSize:11,fontWeight:550,textTransform:"uppercase",borderRadius:"50px"}})})]}),(0,r.jsxs)(l.A,{sx:{p:{md:2.5,lg:3}},children:[(0,r.jsx)(d.A,{variant:"h6",sx:{color:"#fff",fontWeight:600,mb:1,fontSize:{md:"1rem",lg:"1.1rem"},lineHeight:1.3},children:e.title||"Untitled"}),(0,r.jsx)(d.A,{variant:"body2",sx:{color:"rgba(255,255,255,0.8)",mb:2,fontSize:{md:"0.85rem",lg:"0.9rem"},lineHeight:1.5},children:e.description||""})]}),(0,r.jsx)(c.A,{sx:{p:0,px:{md:2.5,lg:3},pb:2},children:"published"===e.status?(0,r.jsx)(x.A,{fullWidth:!0,href:"/news/".concat(e.id),sx:{justifyContent:"flex-start",color:"#5f61e7",textTransform:"none",fontSize:"0.9rem",fontWeight:500,borderRadius:0,p:0,minWidth:0,background:"none",boxShadow:"none","&:hover":{background:"none",color:"#5f61e7dd"}},children:"Read more..."}):(0,r.jsx)(d.A,{sx:{color:"#ffffff55",fontSize:"0.9rem",fontWeight:400,fontStyle:"italic",pl:.5},children:"Coming soon..."})})]},"".concat(n,"-").concat(t))))})}),(0,r.jsx)(a.default,{sx:{display:{xs:"grid",md:"none"},gridTemplateColumns:{xs:"1fr",sm:"1fr 1fr"},gap:{xs:2,sm:3},mt:2,px:{xs:1,sm:2}},children:p.map((e,t)=>(0,r.jsxs)(s.A,{sx:{borderRadius:3,overflow:"hidden",bgcolor:"#1a1a2e",border:"1px solid rgba(255,255,255,0.08)"},children:[(0,r.jsxs)(a.default,{sx:{position:"relative",height:{xs:160,sm:180}},children:[(0,r.jsx)(f.default,{src:m(e.thumbnail),alt:e.title||"News",fill:!0,sizes:"(max-width: 600px) 100vw, (max-width: 1200px) 50vw, 450px",style:{objectFit:"cover"}}),(0,r.jsx)(i.A,{direction:"row",spacing:1,sx:{position:"absolute",top:8,left:8},children:(0,r.jsx)(o.A,{label:b(e.category),sx:{bgcolor:"#6366f1",color:"#fff",fontSize:10,fontWeight:700,textTransform:"uppercase",borderRadius:"6px"}})})]}),(0,r.jsxs)(l.A,{sx:{p:2},children:[(0,r.jsx)(d.A,{variant:"subtitle2",sx:{color:"#fff",fontWeight:600,mb:.5,fontSize:{xs:"0.85rem",sm:"0.95rem"}},children:e.title||"Untitled"}),(0,r.jsx)(d.A,{variant:"caption",sx:{color:"rgba(255,255,255,0.8)",fontSize:{xs:"0.75rem",sm:"0.8rem"}},children:e.description||""})]})]},t))}),n&&(0,r.jsx)(a.default,{sx:{display:"flex",justifyContent:"center",mt:3},children:(0,r.jsx)(x.A,{onClick:()=>t(),disabled:u,variant:"contained",children:u?"Loading...":"Load more"})})]})}},93366:(e,t,n)=>{n.d(t,{ne:()=>g,p$:()=>x,Gl:()=>f});var r=n(67364),a=n(99776),s=n(80549),i=n(95125),o=n(72378);let l=()=>{let e=o.A.get("accessToken")||localStorage.getItem("accessToken");return e?{Authorization:"Bearer ".concat(e)}:{}},d=i.A.create({baseURL:"https://d5ffe0dc8ad8.ngrok-free.app",headers:{"ngrok-skip-browser-warning":"true"}}),c={getAllNews:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return(await d.get("/api/news/get-all?page=".concat(e))).data},getOwnedNews:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return(await d.get("/api/news/get-owned-new?page=".concat(e),{headers:l()})).data},createNews:async e=>(await d.post("/api/news",e,{headers:l()})).data.data};function x(){return(0,r.q)({queryKey:["news"],queryFn:e=>{let{pageParam:t}=e;return c.getAllNews("number"==typeof t?t:1)},getNextPageParam:(e,t)=>e.totalPages>t.length?t.length+1:void 0,initialPageParam:1})}function f(){return(0,r.q)({queryKey:["owned-news"],queryFn:e=>{let{pageParam:t}=e;return c.getOwnedNews("number"==typeof t?t:1)},getNextPageParam:(e,t)=>e.totalPages>t.length?t.length+1:void 0,initialPageParam:1})}function g(){let e=(0,a.jE)();return(0,s.n)({mutationFn:c.createNews,onSuccess:()=>{e.invalidateQueries({queryKey:["news"]}),e.invalidateQueries({queryKey:["owned-news"]})}})}}}]);